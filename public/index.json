[{"categories":["量化程式小家教"],"content":"前言\r在做量化投資策略參數最佳化時，都會透過for迴圈的寫法來處理，但是如果策略很複雜時，每次迴圈跑得速度都會很慢。由於R程式是用單個執行緒在跑，因此要克服執行時間很久的問題，最簡單的方法就是在電腦上開很多個R程式一起跑。這樣就會用很多個執行緒在計算，此方法類似平行運算的概念，但這樣做實在是很麻煩。為解決這個問題，R程式裡面有一個套件parallel，只要將要程式碼包裝成函數形式，就可以跑平行運算。\n接下來文章一開始會先用for迴圈做一個簡單的範例，再來會使用apply家族提升速度，最後用平行運算讓速度再往上提升。透過這個範例，可以看到如何使用平行運算及平行運算的速度。\n\r使用套件\rlibrary(parallel) # 平行運算套件\rlibrary(tidyverse) # 資料科學專用套件包\r\rFor迴圈寫法\r我們做一個簡單的範例，產生1,000列的資料，每列為共包含兩個數，分別為該列的值及平方值。\noutput \u003c- NULL # 建立儲存表\rpower \u003c- 2 # 次方數\rptm \u003c- proc.time() # 啟動計時器\rfor(ix in 1:1000){\rrowData \u003c- tibble(num1 = ix, num2 = ix^power) output \u003c- output %\u003e% bind_rows(rowData)\r}\rforTime \u003c- proc.time() - ptm # 結束計時器 \r執行完後，output會是：\noutput\r## # A tibble: 1,000 x 2\r## num1 num2\r## \u003cint\u003e \u003cdbl\u003e\r## 1 1 1\r## 2 2 4\r## 3 3 9\r## 4 4 16\r## 5 5 25\r## 6 6 36\r## 7 7 49\r## 8 8 64\r## 9 9 81\r## 10 10 100\r## # .","keywords":null,"title":"R語言平行運算介紹","uri":"/post_learn/20190330_r_parallel_introduction/"},{"categories":["策略研究所"],"content":"前言\r這次要和大家分享的是，以在學界知名的「效率前緣」為核心概念所建構的「優勢選股策略」， 核心概念是靠著觀察風險與報酬的關係，簡單選出高CP值的優良股票，不用再做額外的操作。 這樣簡單的策略，是否能獲得打贏大盤的績效呢?\n\r介紹效率前緣\r\r\r「效率前緣」是由學者Markowitz在1952年所提出的現代投資理論中的核心概念之一，該理論於1990年獲頒諾貝爾經濟學獎。 「效率前緣」是將市場上可供投資的所有資產，依任意比率組成投資組合後，選擇在相同風險下， 擁有最高期望報酬的那些投資組合共同於 期望報酬-風險 圖上描繪而成。簡單來說，雖然報酬一定伴隨風險，但選擇效率前緣上方的投資組合， 就是選擇了該風險水平下，預期報酬最高的投資組合。\n\r介紹優勢策略選股\r本投資策略跟隨「效率前緣」的精神，尋找市場中「優勢」的股票，優勢定義為以下兩點：\n\r相同期望報酬中，風險最低。\r相同風險下，期望報酬最高。\r\r以2018年12月份台股上市櫃股票為例，具有「效率前緣」概念的優勢股票即為紅點。 觀察可以看到所有的紅點都會是該風險值底下，期望報酬最高的股票，符合我們的要求。\n\r\r編號\r\r股票代碼\r\r股票名稱\r\r平均日報酬率\r\r日標準差\r\r\r\r\r\r1\r\r1526\r\r日馳\r\r0.033\r\r0.062\r\r\r\r2\r\r2340\r\r光磊\r\r0.008\r\r0.016\r\r\r\r3\r\r2401\r\r凌陽\r\r0.","keywords":null,"title":"運用效率前緣選出優勢股票(一)","uri":"/post_strategy/20190312_dominate_efficient_frontier_strategy/"},{"categories":["量化程式小家教"],"content":"\r統計模型定義\r\r統計模型係為「以數據為基礎，使用數學方程式的形式表現變量之間的關係。」\n\r\r機器學習與統計模型之相異之處\r在接觸到機器學習的領域時，許多人一定有個疑問：機器學習是不是就等同於統計模型？在回答這個問題之前，我們應該都能理解一點，當處理的問題是與數據息息相關，無論使用何種工具來分析，最後的目標都是從數據當中挖掘潛在的知識與訊息。故對於機器學習與統計模型來說，都是藉由資料分析，獲得背後隱藏的訊息。回歸到機器學習與統計模型的差異，先從其定義說起：\n\r機器學習是「以一種不仰賴規則而設計的數據學習之演算法。」\n統計模型是「以數學方程式的模式，以表達變量之間的關係。」\n\r統計模型的發展，早於1749年開始，距今已270年歷史之久，當時，統計學被研究人員廣泛地運用在表達國際的經濟水準，以及作為軍事用途，爾後，統計學才逐漸被充分地使用在數據的分析。機器學習作為人工智慧(1940)的分支，自從1946年才開始起步，它的目標在於電腦可進行自我的學習來對目標取得解答。然而，對於統計學家而言，他們所關心的是模型所具有的「解釋能力」，也同時注重建構模型與解釋統計模型時所作的假設與嚴謹程度；反觀，機器學習學者則更關心模型的「預測能力」。舉個例子而言，對於明天會不會下雨的這件事，機器學習會表述說：「預測明天下雨的機率為60%」，但統計學家則會給予一個預測區間：「有95%的信心水準下，明天下雨的機率會落在50%到70%之間。」\n以下將從不同的層面，來說明機器學習與統計模型的不同之處：\n1. 運作概念\n\r機器學習：為資訊科學與人工智慧的一分支，透過數據學習以建構分析系統，並不仰賴明確的建構規則。\n\r統計模型：為數學的一分支。透過數據發現各變量之間的關係，給予一個預測的結果。\n\r\r2. 歷史發展\n\r機器學習：因計算能力以及資料蒐集的進步，加速了機器學習的發展。因數據規模以及複雜程度不斷攀升，故機器學習不斷展現出巨大的發展空間與潛力。\n\r統計模型：距今已有幾世紀之久，如同前段所言。\n\r\r3. 模型假設\n\r機器學習：擺脫過多假設的侷限。不需假設自變量或應變量的分布。\n\r統計模型：仰賴一系列的假設。舉例而言，對於迴歸模型，有觀測樣本獨立、同變異數、波動期望值為零等的假設\n\r\r4. 數據處理能力\n\r機器學習：可被廣泛地運用，並可學習大數據，並進行預測和持續學習。處理數據的深度與廣度極大。\n\r統計模型：一般應用在較小的數據量和較窄的數據屬性。\n\r\r5. 預測方式與目標導向\n\r機器學習：因機器學習不依賴假設，預測效果往往不錯。然而，其目標是建構一個高效並可靠的系統，持續穩定地預測未來的事件。例如：辨識圖像。\n\r統計模型：大多仰賴參數的估計，並傾向建構模型，瞭解變量之間所具有的關係。透過如此一來，模型可提供一個可信的預測區間。但因現實層面的複雜，往往不知道現實事件的輪廓與模樣，導致建構統計模型常備受挑戰，難以建構。\n\r\r總歸而言，統計學習的發展的確啟發了機器學習，而這幾年以來，機器學習會迅速的竄升也歸功於訓練數據量的能力大幅提升以及運算能力的可觀進步，故應可知道，統計理論並無本質上地突破，而是拜處理資料能力所賜。\n不過，統計學與機器學習仍然是高度相關的領域，若沒有彼此與其他領域的幫助與發展，它們仍然難以存在，也難以單獨生存。可預期的是，雖然機器學習和統計模型屬於不同分支，但經過長時間的發展後，兩者的差異有逐漸縮小的趨勢。\n\r參考資料\r《機器學習vs統計模型》\n\r","keywords":null,"title":"機器學習與統計模型之差異","uri":"/post_learn/20190218_differences_between_machine_learning_and_statistical_models/"},{"categories":["量化程式小家教"],"content":"機器學習定義\r\r機器學習係為「能讓機器能夠自主學習並增強的演算法。其屬於人工智慧發展的一環。」\n\r\r機器學習之學習方式\r在機器學習中，演算法通常隱含著電腦運作的邏輯與思路，故通常負責了資訊科學中最難解釋的部分。然而，機器學習能夠解決多少問題，則取決於演算法的發展，以下將介紹其發展領域，包含「監督式學習」、「非監督式學習」、以及「強化式學習」三個部分。\n\r監督式學習\r監督式學習主要能處理的問題有：分類問題、偵測異狀、以及提供迴歸演算法。\n分類問題\r分類問題亦可分成「二元分類問題」及「多元分類問題」。\n二元分類，顧名思義，此種演算法是用於解決「只有兩種結果」的問題。例如：是或否、開或關、買或不買、抽菸或不抽菸等。很多資料科學中的問題都是屬於二元分類，或者能夠被轉換成二元分類的問題。以下為例子說明：\n\r這位顧客會不會續約？\r這張照片是不是一隻貓？\r每一件商品打八折或者第二件商品打五折，哪種促銷手法更能吸引顧客？\r\r而多元分類問題，則可利用此演算法解決多種回答的問題。以下為例子說明：\n\r這是何種動物的圖片？\r這篇新聞標題要如何下？\r這篇Facebook所包含的情緒為何？\r\r\r偵測異狀\r對於不正常的資料，需要更謹慎的監測與辨別。或許這種方法相當類似二元分類法，因為感覺其原理皆是在判別有或沒有異狀。不過這兩者的區別是在於二元分類中的資料中包含兩種回答。但偵測異狀則不一定。當分析的情況發生率很低，導致樣本數很少的時候，異狀偵測就顯得相當有用。以下為例子說明：\n\r這張信用卡有被盜刷？\r這位使用者在這次消費和過去的消費行為落差很大嗎？\r這些用電量在這個季節和時間算是正常的嗎？\r\r\r提供迴歸演算法\r當欲解決的問題涉及數字而非分類的時候可使用。一般而言，迴歸演算法會給予一個實數解，可以是很精密的小數實數解、也可能為負數解。若問題特定限制為「有幾個」的問題，則負數解可能被直接視為零，而分數解則會依四捨五入方法轉換成最接近的整數。以下為例子說明：\n\r下周二的氣溫如何？\r風力發電廠經過三十分鐘後，會有多少千瓦的需求？\r下周這位Twitter發言者會獲得多少新的追蹤者？\r\r有些問題看起來似乎是多元分類問題，但其實更適合用迴歸方式解決。例如：「讀者對於哪則新聞最感興趣？」乍看之下是個分類問題，但如果將問題轉換成「對於讀者而言，每則的新聞的有趣程度如何」並為每則新聞做評分，接下來只要選取分數最高的新聞即可。這類的問題通常和排名或對比有相關。相同道理，「我的車隊中，哪一輛最需要保養？」可以換成「這些車輛中，每台車需要保養的程度如何？」；「哪些顧客明年會跳槽到其他公司的產品」也可以轉換成「每名客戶隔年會跳槽到其他公司的產品的機率為何？」\n然而，二元分類問題是可以轉換成迴歸的問題。事實上，如果探究其原理，某些演算法的確會先將二元分類問題直接轉成迴歸的問題來解決。這種做法在二分法下不盡完美、或兩種都可能的情況下特別有用。舉例而言，當回答「有一部分是、而另一部分不是」或是「有可能開、也有可能關」的時候，迴歸演算法可以反映這些特性。這類問題通常會以「有多少可能性」或「有多少比例」的機率式問法開頭。以下為例子說明：\n\r這位使用者有多大機會會點進這則廣告？\r這名員工有多大機會造成公司內部安全的風險？\r今天的航班，有多少比例會準時抵達？\r\r至此發現，二元分類、多元分類、異狀偵測以及迴歸等四種演算法關係匪淺，因為它們皆是監督式學習(supervised learning)演算法，而有共通之處。監督式演算法，在建立模型的時候都用了一組包含回答的資料(此過程稱之為訓練，Training)，並被用來分類或預測一組不包含回答的資料(此過程稱之為評分，Scoring)。除此之外，另外一些不同的資料科學的問題，則屬於非監督式和強化式學習(unsupervised and reinforcement learning)類別的處理範疇。\n\r\r非監督式學習\r非監督式學習注重在：「資料的組成為何？」\n這類與資料組成相關的問題屬於「非監督式學習」。判斷資料結構的方法有很多。其中一種稱之聚類法(Clustering)，包含資料群集(Chunking)、分組(Grouping)、聚束(Bunching)、分段(Segmentation)等。這些方法目的是將資料分成幾個直觀的群體。不同於監督式學習，聚類法所分析的資料不包含任何用來引導分群、說明分群意義和數量的數字或名字。如果說，監督式學習是用來在星空中找出幾個特定的星球，聚類法則是用來圈出星空中的星座。由於聚類法可以用來將資料分成「幾叢」群體，分析人員可以更輕易地解讀和解釋資料。\n聚類法的基礎為衡量資料之間的距離或是相似程度，也就是距離度量(Distance metric)。距離度量可以是任何可測量的數據，例如智商之間的差距、相同基因組的數量、或是兩點之間的最短距離。和聚類法相關的問題全都試著將資料分成均等的群體。以下用幾種例子說明：\n\r哪些消費者對於手機有相似的品味？\r哪些觀眾喜歡同一類型的電影？\r哪些型號的印表機有相似的故障？\r\r非監督式學系下還有另一類的演算法稱之為降低維度法(dimensionality reduction)。降維是另一種簡化資料的方法，它可以讓資料的溝通變得更容易、處裡變得更快、而且存取變得更簡單。\n等第積分平均(GPA)是一個很簡單的例子。對於每位大學生，學術能力評估都是由四年內眾多的課程和考試所組成，但如果它們全部表列出來，沒有任何一位面試官可以吸收如此龐大的資訊。透過計算平均，可以將這些課堂和考試簡化成GPA。因為在某門課表現優異的學生，通常在其他課程的表現也不錯，所以這套方法還算能用。只是GPA的使用並非能夠完整呈現成績，的確會喪失一些資料，例如看不出一位學生的數學程度和英文程度之間的關係，或是相較考試之下是否這位學生更善於回家做作業；不過這樣的系統化作法，最大的好處就是能夠簡化，讓表達和比較學術能力的方式更加簡便。如果當問題的目標是總結、簡化、壓縮或是精粹資料，則聚類法則是理想的作法。\n\r強化式學習\r強化式學習注重在：「接下來該做什麼？」","keywords":null,"title":"機器學習簡介─機器學習能夠解決哪些問題？","uri":"/post_learn/20190211_what_problems_can_machine_learning_solve/"},{"categories":["量化程式小家教"],"content":"\r\r量化投資是指「以量化的手段，藉由電腦程序化給予買賣交易訊號的一種投資方式。其目的在於獲取穩定的報酬率。」\n\r量化投資的概念與發展\r股票的發行，起源於十七世紀的荷蘭東印度公司，但量化投資的方式，卻是在1980年代才崛起，這一切得歸功於電腦科技的發展。量化投資是藉由數學模型的判斷下，給予交易有價證券的訊號。然而，這些數學模型並非無中生有，而是學者們觀察到市場與經濟的規律及模式，並以歷史的數據做為驗證，最終將其編譯成電腦的交易策略。而通常這種投資方式，皆為演算法的判斷，較無人為的介入以影響投資決策。\n因此，量化投資出現的主因，除了電腦技術的發展與普及，還包含了現代金融理論的發展、以及交易成本的降低。以下將說明這三項推動量化投資發展的因素：\n電腦技術的發展與普及\r\r1976年由Steve Jobs和Stephen Gary Wozniak創辦蘋果電腦公司，可說是電腦的新紀元，在短短的數十年間，電腦的普及大量進入社會，改變人類的生活模式。Intel的創辦人之一Gordon Earle Moore曾提出莫爾定律，其推測電腦硬體的功能，包含處理速度以及儲存的能力，每隔一到兩年即會提升一倍。然而在大數據時代的來臨，人類對於電腦的仰賴已經遍及各領域，不只家庭、學校、企業、甚至是政府單位，都需要以數據的分析做為致勝的關鍵。\n現代金融理論的發展\r\r傳統的金融理論是建立在現金流貼現法。企業如果要計算其整體的價值，須將股票以及債券部位的價值做定價。然而這樣的定價方式，需對於未來的現金流以及折現率有所預測與假設，這種方式涉及許多主觀的判斷，一般而言，要準確的推測是相當有難度的。到了1960年代後期，CAPM (資本資產定價模型)由美國財務學家Sharpe等人發展出來，此說明在資本市場處於均衡狀態之下，資產所具有的風險及預期的收益率之間有了明確的關係。換句話說，根據CAPM的精髓，一個股票的預期收益率，可取決於其和市場的相關性(Beta值)以及無風險利率，這樣一來，投資者可不用對於現金流做複雜的預測，就可以推算出股票的價值。另外，在1950年代，Harry Markowitz提出以均值方差的方式，以優化投資組合。通常在考量最佳的股票投資組合，並不單以最大化投資報酬率為目標，同時還得考量其風險程度。同時，股票之間也具有相關性，也必須被考量進去。然而這些現代金融理論的發展，並不保證一定優於傳統的理論，而是提供更多的方式以補捉金融市場的樣態。\n交易成本的降低\r\r金融市場競爭激烈的狀況下，交易成本預期地將逐漸降低。\n\r量化投資導入市場的影響\r就已發展的市場而言，量化交易佔有相當重要的地位。在許多的交易所，高頻量化基金的交易量能高達總交易量的30至40%。高頻的交易主要提供的是短期的流動性，相較之下，中長期的流動性則由較低頻的量化基金所提供。量化交易的特性通常是一次性地交易上百上千的股票，所以單一股票的走勢對於其影響並不重大，另外加上量化投資是以財務與數學的基礎下所建立的模型，並無主觀因素的參雜下，較少有捲入內線交易的醜聞，所以通常量化投資在運作上是在法規上最為放心的策略。同時，因量化投資需財務與數學模型的背景，也提供市場上相關背景的就業機會。\n\r參考資料來源\r華爾街見聞─量化投資必讀：剖析全球量化投資30年來的發展脈絡\n\r","keywords":null,"title":"量化投資簡介","uri":"/post_learn/20190204_quantitative_investment_profile/"},{"categories":["量化程式小家教"],"content":"\r多數人面對一個陌生的投資標的時，參考或仿效過往的成功做法，往往會是一個較有安全感，且似乎風險較低的選擇。\n回溯測試定義\r\r回溯測試的概念，就是鑑往知來，藉由模擬過去某時期的投資策略，去操作現在的 投資，而從過去所累積至今的績效報酬，就成為此投資策略的戰績，並作為未來投資的參考依據，它也是投資常見的方法——「＃量化投資」的核心。\n\r下圖為例，小明現在想測試一個投資策略，它的策略做法為月營收發布日隔天(起始日:2001/01/11)挑選月營收排名前五名之股票，將投資組合持有一個月，並於下一次月營收發布日隔天(i.e. 2001/02/11)重新使用月營收挑選股票，重複上述流程操作至今，並將各期間報酬進行統計分析，便可知道其回測績效為何。\n需要特別注意的是，雖然過去的每個選股時間點我們都會知道未來的數據走勢(因為是歷史數據)，但在回朔測試時，我們會假設不知道未來數據的情況下去挑選股票，否則回測的績效結果就不具客觀參考性。\n\r\r下圖為例，小明現在想測試一個投資策略，它的策略做法為月營收發布日隔天(起始日:2001/01/11)挑選月營收排名前五名之股票，將投資組合持有一個月，並於下一次月營收發布日隔天(i.e. 2001/02/11)重新使用月營收挑選股票，重複上述流程操作至今，並將各期間報酬進行統計分析，便可知道其回測績效為何。\n過去戰功彪炳，代表未來也會持續戰勝?\r很多投資人對於透過回測來驗證投資策略都抱持著存疑的態度，因為他們認為過去表現好的投資策略，並不表示未來採用此投資策略就會獲利。\n這是個合理的懷疑。但大家或許也可以換個思維想想，如果這個投資策略連在過去都無法創造好的績效，我們如何能期待它未來能獲利?就像在戰場上，我們派出的武將都是看它過去所立下的戰功，但這並不代表它一定會打勝仗，只是打勝仗的機率會比戰績差的武將來的高上許多。\n\r\r\r\r","keywords":null,"title":"如何做回溯測試?","uri":"/post_learn/20190123_how_to_backtesting/"},{"categories":null,"content":"YenTing\n大學念經濟，碩士班念財管，目前在做量化投資策略開發。喜歡用程式來解決問題，認為麻煩的事情交給電腦來做就好。","keywords":null,"title":"","uri":"/authors/yenting/"},{"categories":null,"content":"","keywords":null,"title":"Authors","uri":"/authors/"},{"categories":null,"content":"","keywords":null,"title":"Categories","uri":"/categories/"},{"categories":null,"content":"","keywords":null,"title":"Tags","uri":"/tags/"},{"categories":null,"content":"在此竭誠歡迎您使用本網站金融資訊服務（以下簡稱”本服務”）所提供的各項金融資訊服務。為維護您的權益，請於使用本服務前詳細閱讀以下聲明；任何使用本服務之行為，皆被視為您已同意本服務之各項聲明。\n 本網站對於本服務提供之任何資訊，包括但不限於上市（櫃）公司訊息、興櫃公司訊息、延遲交易資訊、新聞報導、研究報告、數據分析報告等，均係基於現狀提供。對於各項資訊內容之合理性、正確性、即時性或可靠性，本網站均不予以任何明示或暗示之商業性、營利性使用或特定目的之保證。故您於使用本服務提供之各項資訊前，應自行評估並衡量資訊內容之合理性、正確性、即時性或可靠性。您因使用本服務之資訊而進行之任何投資或特定目的行為，所產生之任何直接、間接、附帶或因而導致或衍生之各項損失，皆應由您自行承擔，本網站概不負責。\n 本服務任何資訊內容之提供者（包括但不限於臺灣證券交易所、櫃檯買賣中心和臺灣期貨交易所）、系統廠商與相關電信業者因軟、硬體設備之瑕疵、故障、不可抗力或人為操作上之疏失，導致資訊傳輸之遺漏、錯誤、遲延、障礙或中斷等異常情事，本網站不負任何責任。\n 透過本服務提供或銷售之商品或服務，應由商品或服務提供者依相關法令規定，取得主管機關之許可或核准，本網站對於商品或服務提供者是否已取得相關許可或核准，不負任何查證及擔保之義務。您使用或接受本服務所提供或銷售之任何商品或服務，其相關法律責任，包括但不限於履約、擔保、售後服務及賠償責任皆係存在於您與商品或服務提供者之間，概與本網站無關。您應於使用、接受本服務所提供或銷售之任何商品或服務前，自行評估及衡量相關責任與風險。\n 本服務中之超連結可能連結到任何不屬於本網站之個人、公司、單位或機構之網頁，對於該網頁或所屬網站所提供之資訊、產品或服務，本網站並未審閱其內容，亦不擔保其真實性、即時性或完整性。請您於瀏覽連結該網頁或所屬網站時，自行判斷其提供之資訊、產品或服務之真實性、即時性或完整性。您因瀏覽或使用連結網頁或所屬網站所生之任何直接、間接、附帶或因而導致或衍生之損失，本網站概不負責。\n 本免責聲明如有未盡事宜，應依臺灣證券交易所股份有限公司、臺灣期貨交易所股份有限公司或其他主管機關所制頒交易資訊使用管理辦法及中華民國法令之規定辦理。本網站有修改或更正本服務各項資訊及本免責聲明之權利但無義務，且無須表明任何理由。修改或更正後之資訊及聲明將公佈於本服務，不再另行個別通知。\n  ","keywords":null,"title":"免責聲明","uri":"/statement/"},{"categories":null,"content":"台股投資選股研究室\n一個提供台股最新市場訊息及量化策略投資建議的交流平台，透過量化投資指標的分析與討論，讓更多對台股有興趣的人可以理解量化策略的奧妙。","keywords":null,"title":"台股投資選股研究室","uri":"/"},{"categories":null,"content":"","keywords":null,"title":"所有文章","uri":"/archives/"},{"categories":null,"content":"","keywords":null,"title":"找找文章","uri":"/search/"},{"categories":null,"content":"","keywords":null,"title":"策略研究所","uri":"/categories/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6%E6%89%80/"},{"categories":null,"content":"","keywords":null,"title":"策略研究所","uri":"/post_strategy/"},{"categories":null,"content":"","keywords":null,"title":"量化程式小家教","uri":"/categories/%E9%87%8F%E5%8C%96%E7%A8%8B%E5%BC%8F%E5%B0%8F%E5%AE%B6%E6%95%99/"},{"categories":null,"content":"","keywords":null,"title":"量化程式小家教","uri":"/post_learn/"}]