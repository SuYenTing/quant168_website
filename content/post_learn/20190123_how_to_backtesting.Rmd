---
title: 如何做回溯測試?
date: "2019-01-23"
url: "/post_learn/20190123_how_to_backtesting"
credit: "https://unsplash.com/photos/QRkew0KwXSM"
image: "img/unsplash-photos-QRkew0KwXSM.jpg"
thumbnail: img/unsplash-photos-QRkew0KwXSM.tn-500x500.jpg
classes:
categories:
- 量化程式小家教
description: "回溯測試的概念，就是鑑往知來，藉由模擬過去某時期的投資策略，去操作現在的 投資，而從過去所累積至今的績效報酬，就成為此投資策略的戰績，並作為未來投資的參考依據，它也是投資常見的方法——「＃量化投資」的核心。"
---

多數人面對一個陌生的投資標的時，參考或仿效過往的成功做法，往往會是一個較有安全感，且似乎風險較低的選擇。

# 回溯測試定義

> 回溯測試的概念，就是鑑往知來，藉由模擬過去某時期的投資策略，去操作現在的 投資，而從過去所累積至今的績效報酬，就成為此投資策略的戰績，並作為未來投資的參考依據，它也是投資常見的方法——「＃量化投資」的核心。

下圖為例，小明現在想測試一個投資策略，它的策略做法為月營收發布日隔天(起始日:2001/01/11)挑選月營收排名前五名之股票，將投資組合持有一個月，並於下一次月營收發布日隔天(i.e. 2001/02/11)重新使用月營收挑選股票，重複上述流程操作至今，並將各期間報酬進行統計分析，便可知道其回測績效為何。

需要特別注意的是，雖然過去的每個選股時間點我們都會知道未來的數據走勢(因為是歷史數據)，但在回朔測試時，我們會假設不知道未來數據的情況下去挑選股票，否則回測的績效結果就不具客觀參考性。


<center>![](/post_learn/20190123_how_to_backtesting/1.png)</center>

下圖為例，小明現在想測試一個投資策略，它的策略做法為月營收發布日隔天(起始日:2001/01/11)挑選月營收排名前五名之股票，將投資組合持有一個月，並於下一次月營收發布日隔天(i.e. 2001/02/11)重新使用月營收挑選股票，重複上述流程操作至今，並將各期間報酬進行統計分析，便可知道其回測績效為何。

### 過去戰功彪炳，代表未來也會持續戰勝?

很多投資人對於透過回測來驗證投資策略都抱持著存疑的態度，因為他們認為過去表現好的投資策略，並不表示未來採用此投資策略就會獲利。

這是個合理的懷疑。但大家或許也可以換個思維想想，如果這個投資策略連在過去都無法創造好的績效，我們如何能期待它未來能獲利?就像在戰場上，我們派出的武將都是看它過去所立下的戰功，但這並不代表它一定會打勝仗，只是打勝仗的機率會比戰績差的武將來的高上許多。

<center>![](/post_learn/20190123_how_to_backtesting/2.jpg)</center>
